(()=>{function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(t){var r="function"==typeof Map?new Map:void 0;return e=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return n(t,arguments,o(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},e(t)}function n(t,e,o){return n=r()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},n.apply(null,arguments)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}var f=function(){function t(){s(this,t)}return l(t,null,[{key:"osHasReducedMotion",value:function(){if(!window.matchMedia)return!1;var t=window.matchMedia("(prefers-reduced-motion: reduce)");return!!t&&t.matches}}]),t}();if("function"!=typeof window.CustomEvent){var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(u,t);var e,n,c=(e=u,n=r(),function(){var t,r=o(e);if(n){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){return s(this,u),e=e||{bubbles:!1,cancelable:!1,detail:void 0},c.call(this,t,e)}return l(u)}(e(Event));window.CustomEvent=d}var h=function(){function t(e){var n=this;s(this,t),this.element=e,this.items=this.element.getElementsByClassName("wp-block-essential-blocks-wrapper"),this.items=Array.from(this.items).filter((function(t){return t.parentElement===n.element})),this.scrollingFn=!1,this.scrolling=!1,this.initStackCardsEffect(),this.initStackCardsResize()}return l(t,[{key:"initStackCardsEffect",value:function(){this.setStackCards(),new IntersectionObserver(this.stackCardsCallback.bind(this),{threshold:[0,1]}).observe(this.element)}},{key:"initStackCardsResize",value:function(){var t=this;this.element.addEventListener("resize-stack-cards",(function(){t.setStackCards(),t.animateStackCards()}))}},{key:"stackCardsCallback",value:function(t){if(t[0].isIntersecting){if(this.scrollingFn)return;this.stackCardsInitEvent()}else{if(!this.scrollingFn)return;window.removeEventListener("scroll",this.scrollingFn),this.scrollingFn=!1}}},{key:"stackCardsInitEvent",value:function(){this.scrollingFn=this.stackCardsScrolling.bind(this),window.addEventListener("scroll",this.scrollingFn)}},{key:"stackCardsScrolling",value:function(){this.scrolling||(this.scrolling=!0,window.requestAnimationFrame(this.animateStackCards.bind(this)))}},{key:"setStackCards",value:function(){this.marginY=getComputedStyle(this.element).getPropertyValue("--stack-cards-gap"),this.getIntegerFromProperty(),this.elementHeight=this.element.offsetHeight;var t=getComputedStyle(this.items[0]);this.cardTop=Math.floor(parseFloat(t.getPropertyValue("top"))),this.cardHeight=Math.floor(parseFloat(t.getPropertyValue("height"))),this.windowHeight=window.innerHeight,isNaN(this.marginY)?this.element.style.paddingBottom="0px":this.element.style.paddingBottom=this.marginY*(this.items.length-1)+"px";for(var e=0;e<this.items.length;e++)isNaN(this.marginY)?this.items[e].style.transform="none;":this.items[e].style.transform="translateY(".concat(this.marginY*e,"px)")}},{key:"getIntegerFromProperty",value:function(){var t=document.createElement("div");t.setAttribute("style","opacity: 0; visibility: hidden; position: absolute; height: ".concat(this.marginY)),this.element.appendChild(t),this.marginY=parseInt(getComputedStyle(t).getPropertyValue("height")),this.element.removeChild(t)}},{key:"animateStackCards",value:function(){if(isNaN(this.marginY))this.scrolling=!1;else{var t=this.element.getBoundingClientRect().top;if(this.cardTop-t+this.windowHeight-this.elementHeight-this.cardHeight+this.marginY+this.marginY*this.items.length>0)this.scrolling=!1;else{for(var e=0;e<this.items.length;e++){var n=this.cardTop-t-e*(this.cardHeight+this.marginY);if(n>0){var r=e===this.items.length-1?1:(this.cardHeight-.05*n)/this.cardHeight;this.items[e].style.transform="translateY(".concat(this.marginY*e,"px) scale(").concat(r,")")}else this.items[e].style.transform="translateY(".concat(this.marginY*e,"px)")}this.scrolling=!1}}}}]),t}();document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".eb-stacked-cards-wrapper");0!==e.length&&e.forEach((function(e){var n=!0,r=window.innerWidth,i=e.getAttribute("data-stacked-hide-desktop"),o=e.getAttribute("data-stacked-hide-tab"),a=e.getAttribute("data-stacked-hide-mobile");(r>1024&&"true"==i||r<=1024&&r>=768&&"true"==o||r<768&&"true"==a)&&(n=!1);var s=e.querySelector(".eb-stacked-cards.ebsc-layout-one"),c=e.querySelector(".eb-stacked-cards:not(.ebsc-layout-two):not(.ebsc-layout-three)"),l=s||c;if(null!==l){n||l.classList.add("hide-stacked");var u="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,d=f.osHasReducedMotion();if(n&&l&&u&&!d){var m=function(){for(var t=0;t<g.length;t++)g[t].element.dispatchEvent(b)},g=[];g.push(new h(l));var v=!1,b=new CustomEvent("resize-stack-cards");window.addEventListener("resize",(function(){clearTimeout(v),v=setTimeout(m,500)}))}}var w,k=e.querySelector(".eb-stacked-cards.ebsc-layout-two");if(null!==k){n||k.classList.add("hide-stacked");var S=y(k,".wp-block-essential-blocks-wrapper"),E=[];S.forEach((function(t){E.push(t.querySelectorAll(".eb-wrapper-outer")[0])}));var C=p(E);E.forEach((function(t){t.style.height=C+"px"}));var O=getComputedStyle(k).getPropertyValue("--stack-cards-gap");k.style.height=C+parseInt(O)*(S.length-1)+"px",k.style.setProperty("--eb-jumping-stacked-cards-height","".concat(C+parseInt(O)*(S.length-1),"px")),(w=k.children,function(e){if(Array.isArray(e))return t(e)}(w)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(w)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().forEach((function(t){k.append(t)})),n&&k.addEventListener("click",(function(t){var e=t.target.closest(".wp-block-essential-blocks-wrapper"),n=y(k,".wp-block-essential-blocks-wrapper"),r=n[n.length-1];e===r&&(r.style.animation="ebStackedCardSwap 700ms forwards",setTimeout((function(){r.style.animation="",k.prepend(r)}),700))}))}var P=e.querySelector(".eb-stacked-cards.ebsc-layout-three");if(null!==P&&n){n||P.classList.add("hide-stacked");var A=[],I="",Y="",j="",x="",H="",L=P.getAttribute("data-parent-class"),T=L.length>0?P.closest(L):null;if(null!==T){var F=function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=Math.floor((t-H-j)/I),n=A.length;A.forEach((function(t){t.classList.remove("ebsc-active-card")})),A.forEach((function(t,r){r<=e&&t.classList.add("ebsc-active-card"),e>=-1&&e<n-1&&(t.style.transform="translate(-50%, -50%) rotate(".concat(-r*Y+(e+1)*Y,"deg)"))}))},R=function(){j=0,x.style.top=-j+"px",I=parseInt(getComputedStyle(P).getPropertyValue("--card-scroll-height"))||400,A.forEach((function(t,e){t.style.transform=" translate(-50%, -50%) rotate(".concat(-e*Y,"deg)"),t.style.zIndex=A.length-e})),T.style.height=x.offsetHeight+(A.length-1)*I+"px"};window.addEventListener("scroll",F),window.addEventListener("resize",(function(){R(),F()})),function(){A=y(P,".wp-block-essential-blocks-wrapper");var t=[];A.forEach((function(e){t.push(e.querySelectorAll(".eb-wrapper-outer")[0])})),Y=parseInt(getComputedStyle(P).getPropertyValue("--card-rotate"))||9;var e=p(t);P.style.height=e+parseInt(A.length*Y)+"px",x=null==T?void 0:T.childNodes[0],H=x.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop),"html"!==x.parentNode.tagName.toLowerCase()&&(x.parentNode.style.overflow="visible"),window.pageYOffset||document.documentElement.scrollTop,R(),F()}()}}}))}));var p=function(t){var e=0;return t.forEach((function(t){var n=t.clientHeight;n>e&&(e=n)})),e},y=function(t,e){var n=t.querySelectorAll(e);return Array.from(n).filter((function(e){return e.parentElement===t}))}})();